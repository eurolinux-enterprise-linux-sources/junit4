From dc65499750839eabbbfddd59c4d32f2efe5ed538 Mon Sep 17 00:00:00 2001
From: Michael Simacek <msimacek@redhat.com>
Date: Mon, 19 Oct 2015 19:06:04 +0200
Subject: [PATCH] Ignore bridge methods

---
 src/main/java/junit/framework/TestSuite.java            | 1 +
 src/main/java/org/junit/internal/runners/TestClass.java | 2 ++
 src/main/java/org/junit/runners/model/TestClass.java    | 1 +
 3 files changed, 4 insertions(+)

diff --git a/src/main/java/junit/framework/TestSuite.java b/src/main/java/junit/framework/TestSuite.java
index cdcb144..c6af8e5 100644
--- a/src/main/java/junit/framework/TestSuite.java
+++ b/src/main/java/junit/framework/TestSuite.java
@@ -143,6 +143,7 @@ public class TestSuite implements Test {
 		List<String> names= new ArrayList<String>();
 		while (Test.class.isAssignableFrom(superClass)) {
 			for (Method each : superClass.getDeclaredMethods())
+                            if (!each.isBridge())
 				addTestMethod(each, names, theClass);
 			superClass= superClass.getSuperclass();
 		}
diff --git a/src/main/java/org/junit/internal/runners/TestClass.java b/src/main/java/org/junit/internal/runners/TestClass.java
index 1ca2b9d..efc7ad4 100644
--- a/src/main/java/org/junit/internal/runners/TestClass.java
+++ b/src/main/java/org/junit/internal/runners/TestClass.java
@@ -43,9 +43,11 @@ public class TestClass {
 		for (Class<?> eachClass : getSuperClasses(fClass)) {
 			Method[] methods= eachClass.getDeclaredMethods();
 			for (Method eachMethod : methods) {
+                            if (!eachMethod.isBridge()) {
 				Annotation annotation= eachMethod.getAnnotation(annotationClass);
 				if (annotation != null && ! isShadowed(eachMethod, results)) 
 					results.add(eachMethod);
+                            }
 			}
 		}
 		if (runsTopToBottom(annotationClass))
diff --git a/src/main/java/org/junit/runners/model/TestClass.java b/src/main/java/org/junit/runners/model/TestClass.java
index b751ba4..535a658 100644
--- a/src/main/java/org/junit/runners/model/TestClass.java
+++ b/src/main/java/org/junit/runners/model/TestClass.java
@@ -34,6 +34,7 @@ public class TestClass {
 
 		for (Class<?> eachClass : getSuperClasses(fClass))
 			for (Method eachMethod : eachClass.getDeclaredMethods())
+                            if(!eachMethod.isBridge())
 				addToAnnotationLists(new FrameworkMethod(eachMethod));
 	}
 
-- 
2.5.0

